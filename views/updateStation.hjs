<!DOCTYPE html>
<html>
<head>
  <title>Update Stations</title>
  <link rel="stylesheet" href="/styles/bootstrap.min.css" />
  <link rel="stylesheet" href="/styles/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="stylesheet" href="/styles/custom-style.css" />
  <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
  <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  <style>
    /* CSS styles for the update station page */
    .update-station-form {
      margin-top: 20px;
    }
    .update-station-input {
      margin-bottom: 10px;
    }
    .update-station-button {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <nav class="navbar navbar-inverse">
      <!-- Navbar code here -->
    </nav>

    <h1 class="page-title">Update Stations</h1>
    <form class="update-station-form">
      <div class="form-group">
        <label for="station-id">Station ID:</label>
        <input type="text" class="form-control update-station-input" id="station-id" placeholder="Enter the station ID">
      </div>
      <div class="form-group">
        <label for="station-name">Station Name:</label>
        <input type="text" class="form-control update-station-input" id="station-name" placeholder="Enter the station name">
      </div>
      <button type="button" class="btn btn-primary update-station-button">Update Station</button>
    </form>
  </div>

  <script>
    $(document).ready(function () {
      $(".update-station-button").click(function () {
        var newStationName = $("#station-name").val();
        var stationId = $("#station-id").val();

        if (newStationName && stationId) {
          updateStation(stationId, newStationName);
        } else {
          alert("Station ID and Name are required.");
        }
      });

      function updateStation(stationId, newStationName) {
        $.ajax({
          url: "/api/v1/station/" + stationId,
          type: "PUT",
          data: { stationId: stationId, stationName: newStationName },
          success: function (response) {
            console.log(response.message);
            // Perform any additional actions after a successful update
            alert("Station updated successfully. New name: " + newStationName);
          },
          error: function (xhr, status, error) {
            console.log("Error updating station:", error);
            // Handle the error appropriately
            alert("Error updating station. Please try again.");
          }
        });
      }
    });
  </script>
</body>
</html>
